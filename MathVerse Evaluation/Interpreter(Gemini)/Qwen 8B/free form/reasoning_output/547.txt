====================================================================================================
PROBLEM DETAILS:
====================================================================================================
PREDICATES:
Point(A)
Point(B)
PointLiesOnLine(A,Line(x,y))
PointLiesOnLine(B,Line(x,y))
MeasureOf(A, -6.283, 3)
MeasureOf(B, -1.571, -4)
Perpendicular(Line(x),Line(y))

QUESTION:
$h$ is a trigonometric function of the form $h(x)=a \cos (b x+c)+d$. Below is the graph of $h(x)$. The function has a maximum point at $(-2 \pi, 3)$ and a minimum point at $\left(-\frac{\pi}{2},-4\right)$. Find a formula for $h(x)$. Give an exact expression.

====================================================================================================
MODEL'S INTERNAL REASONING (THINKING MODE):
====================================================================================================
Okay, so I need to find the formula for the function h(x) which is a trigonometric function of the form h(x) = a cos(bx + c) + d. The problem says there's a graph of h(x) with a maximum point at (-2π, 3) and a minimum point at (-π/2, -4). Let me think about how to approach this step by step.

First, I remember that the general form of a cosine function is y = A cos(Bx + C) + D. Here, A affects the amplitude, B affects the period, C is the horizontal shift, and D is the vertical shift. So my goal is to find the values of A, B, C, and D based on the given points.

The maximum and minimum points give me information about the amplitude and vertical shift. The maximum value is 3, and the minimum is -4. The amplitude is half the distance between the maximum and minimum. Let me calculate that first. 

So the difference between max and min is 3 - (-4) = 7. Therefore, the amplitude A should be 7/2 = 3.5. But wait, since the maximum is achieved when the cosine function is at its peak, which is 1, and the minimum when it's at -1. So the amplitude is indeed (max - min)/2. Wait, but actually, the formula is y = A cos(...) + D. So the maximum value would be A + D, and the minimum would be -A + D. Therefore, setting up equations:

Maximum: A + D = 3  
Minimum: -A + D = -4  

If I subtract the second equation from the first, I get (A + D) - (-A + D) = 3 - (-4) → 2A = 7 → A = 7/2 = 3.5. Then substituting back, let's find D. Adding the two equations: (A + D) + (-A + D) = 3 + (-4) → 2D = -1 → D = -0.5. Wait, no: adding them gives 2D? Wait, no. Let me check again.

Wait, if we have:

Equation 1: A + D = 3  
Equation 2: -A + D = -4  

Adding Equation 1 and Equation 2: (A + D) + (-A + D) = 3 + (-4) → 2D = -1 → D = -0.5. Then plugging back D into Equation 1: A - 0.5 = 3 → A = 3.5. Yes, that's correct. So A = 3.5 and D = -0.5. So that gives us the amplitude and vertical shift.

Now, next part is figuring out the period and the horizontal shift. To do that, I need to find the distance between the maximum and minimum points along the x-axis. Wait, but the maximum is at x = -2π and the minimum is at x = -π/2. The distance between these two points is (-π/2) - (-2π) = (-π/2 + 2π) = (3π/2). This distance corresponds to half the period because between a maximum and the subsequent minimum, the function goes through half a period. Wait, actually, the time between a maximum and the next minimum is half the period. Because the period is the length of one full cycle, so from max to min is half a period. Therefore, the distance between the maximum and minimum points is half the period. So the period T is twice that distance. Let me compute that.

Distance between x-values: 3π/2. Therefore, period T = 2*(3π/2) = 3π. So the period is 3π. Now, the period of a cosine function is 2π / |B|, where B is the coefficient inside the argument of the cosine. So, T = 2π / B → B = 2π / T. Substituting T = 3π, we get B = 2π/(3π) = 2/3. So B = 2/3. That gives us the horizontal compression/stretch factor.

Now, we need to find the phase shift, which is determined by the constant C in the equation. The general form is h(x) = a cos(bx + c) + d. Alternatively, it can be written as h(x) = a cos[B(x + C/B)] + D, where C is the phase shift. Wait, maybe another way: the phase shift is -C/B. Let me recall. If you have cos(Bx + C), that's equivalent to cos[B(x + C/B)], so the phase shift is -C/B. 

But to find C, we need to know where the maximum occurs. Since the standard cosine function reaches its maximum at x=0, but here our maximum is at x = -2π. So, we need to adjust the function such that the maximum occurs at x = -2π. Let me think. Let's consider the function h(x) = A cos(Bx + C) + D. We know that the maximum occurs when the argument of the cosine is 0 (since cos(θ) is maximized at θ=0). Therefore, we set Bx + C = 0 at the x-coordinate of the maximum. 

Given that the maximum is at x = -2π, substituting into Bx + C = 0:

B*(-2π) + C = 0 → C = 2π*B. 

We already found B = 2/3, so C = 2π*(2/3) = 4π/3. Therefore, the phase shift is -C/B = -(4π/3)/(2/3) = -2π. Which makes sense because the maximum is at x=-2π. 

Alternatively, perhaps I made a mistake here. Let me verify. Suppose the maximum occurs at x = -2π. The general form of the cosine function is shifted horizontally. So, if we have h(x) = A cos(B(x - h)) + k, where h is the horizontal shift. Wait, but the original form was h(x) = a cos(bx + c) + d. So, expanding that, it's a cos[b(x + c/b)] + d. So the horizontal shift is -c/b. So, if the maximum occurs at x = -2π, then the horizontal shift is such that the function is shifted left by some amount. 

Alternatively, maybe it's easier to use the formula for the phase shift. Let me rephrase: the function h(x) = A cos(Bx + C) + D has a maximum when Bx + C = 2πn, where n is integer. The first maximum after the origin would be at the smallest positive x. However, in our case, the maximum is at x = -2π. Let me plug in x = -2π into the argument of the cosine:

B*(-2π) + C = 2πn, for some integer n. Since we want the first maximum, probably n=0. Let me assume n=0. So:

-2π*B + C = 0 → C = 2π*B. 

Which is the same as before. So C = 2π*(2/3) = 4π/3. Thus, the function becomes h(x) = (7/2) cos[(2/3)x + 4π/3] - 1/2. 

Wait, but let me check if this works. Let's test the maximum point. Plugging x = -2π:

(2/3)*(-2π) + 4π/3 = (-4π/3) + 4π/3 = 0. Cos(0) = 1, so h(-2π) = (7/2)(1) - 1/2 = 7/2 - 1/2 = 6/2 = 3. Correct. Now check the minimum point at x = -π/2. Plug in x = -π/2:

(2/3)*(-π/2) + 4π/3 = (-π/3) + 4π/3 = 3π/3 = π. Cos(π) = -1. So h(-π/2) = (7/2)(-1) - 1/2 = -7/2 - 1/2 = -8/2 = -4. Perfect! That matches the given minimum. So that seems correct. 

Therefore, putting it all together, the formula is h(x) = (7/2) cos[(2/3)x + 4π/3] - 1/2. 

But let me check if there's another way to write the phase shift. Sometimes, people prefer to express the phase shift as a horizontal shift. For example, if we factor out B from the argument:

h(x) = (7/2) cos[ (2/3)(x + (4π/3)/(2/3)) ] - 1/2. Simplifying the term inside: (4π/3) divided by (2/3) is (4π/3)*(3/2) = 2π. So it's h(x) = (7/2) cos[ (2/3)(x + 2π) ] - 1/2. 

This shows that the function is a cosine wave with period 3π, shifted left by 2π. But since the question asks for the form h(x) = a cos(bx + c) + d, they probably expect the form with the phase shift inside the cosine as a linear term, not factored. So the answer would be h(x) = (7/2) cos( (2/3)x + 4π/3 ) - 1/2. 

Let me confirm once more. The coefficients: amplitude is 7/2, vertical shift is -1/2, period 3π, phase shift of -2π (which is why the maximum is at x=-2π). All checks out. So the formula is correct. 

Another thing to note: sometimes the phase shift could also be represented differently depending on how you arrange the terms. For instance, if we wanted to write it as cos(Bx + C), then C is 4π/3. Alternatively, if we wanted to write it as cos(B(x + φ)), then φ would be C/B = (4π/3)/(2/3) = 2π, which is consistent with the previous calculation. 

Thus, the final expression is h(x) = (7/2) cos( (2/3)x + 4π/3 ) - 1/2. 

I need to make sure that all the steps were correctly followed. The maximum and minimum gave us amplitude and vertical shift, the distance between max and min gave us the period, leading to B, then using the location of the maximum to find the phase shift. All steps seem valid and verified with substitution. So I think this is the correct answer.

====================================================================================================
FINAL RESPONSE:
====================================================================================================
Final Answer: $ h(x) = \frac{7}{2} \cos\left(\frac{2}{3}x + \frac{4\pi}{3}\right) - \frac{1}{2} $

====================================================================================================
EXTRACTED MATHEMATICAL ANSWER: $ h(x) = \frac{7}{2} \cos\left(\frac{2}{3}x + \frac{4\pi}{3}\right) - \frac{1}{2} $
====================================================================================================